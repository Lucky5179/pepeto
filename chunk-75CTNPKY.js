import{$ as ee,A as je,B as K,C as Ke,D as We,E as we,H as $,J as ve,K as Je,L as Ze,Q as D,R as N,S as Xe,T as Be,U as W,V as J,W as Z,X,Y as H,Z as Q,_ as Y,a as g,aa as L,b as O,ba as re,c as z,ca as _,da as te,e as Ge,ea as M,f as R,fa as oe,g as V,ga as ne,h as F,ha as ie,ia as se,j as A,ja as ae,k as S,ka as Pe,l as Ee,m as k,n as ke,o as $e,p as j,r as Le,s as qe,t as w,u as Ie,ua as Se,va as Ce,w as Oe,wa as Re,x as _e,xa as Ae,y as Ve,z as Te,za as Ye}from"./chunk-XEP226KP.js";import{a as Qe}from"./chunk-N67JWVAP.js";import{a as u,b as P,e as Me,m as h}from"./chunk-YWNSDLME.js";var ce=class extends g{constructor({domain:r}){super(`Invalid domain "${D(r)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},me=class extends g{constructor({primaryType:r,types:t}){super(`Invalid primary type \`${r}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},pe=class extends g{constructor({type:r}){super(`Struct type "${r}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}};function er(e){let{domain:r,message:t,primaryType:o,types:n}=e,i=(a,c)=>{for(let m of a){let{name:y,type:p}=m,f=c[y],s=p.match(Ve);if(s&&(typeof f=="number"||typeof f=="bigint")){let[E,l,x]=s;Ee(f,{signed:l==="int",size:Number.parseInt(x)/8})}if(p==="address"&&typeof f=="string"&&!Oe(f))throw new Le({address:f});let d=p.match(_e);if(d){let[E,l]=d;if(l&&z(f)!==Number.parseInt(l))throw new $e({expectedSize:Number.parseInt(l),givenSize:z(f)})}let b=n[p];b&&(Fr(p),i(b,f))}};if(n.EIP712Domain&&r){if(typeof r!="object")throw new ce({domain:r});i(n.EIP712Domain,r)}if(o!=="EIP712Domain")if(n[o])i(n[o],t);else throw new me({primaryType:o,types:n})}function rr({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},typeof e?.chainId=="number"&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Fr(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new pe({type:e})}function Dr(e){let{domain:r={},message:t,primaryType:o}=e,n=u({EIP712Domain:rr({domain:r})},e.types);er({domain:r,message:t,primaryType:o,types:n});let i=["0x1901"];return r&&i.push(tr({domain:r,types:n})),o!=="EIP712Domain"&&i.push(Ue({data:t,primaryType:o,types:n})),w(j(i))}function tr({domain:e,types:r}){return Ue({data:e,primaryType:"EIP712Domain",types:r})}function Ue({data:e,primaryType:r,types:t}){let o=or({data:e,primaryType:r,types:t});return w(o)}function or({data:e,primaryType:r,types:t}){let o=[{type:"bytes32"}],n=[zr({primaryType:r,types:t})];for(let i of t[r]){let[a,c]=ir({types:t,name:i.name,type:i.type,value:e[i.name]});o.push(a),n.push(c)}return Te(o,n)}function zr({primaryType:e,types:r}){let t=A(Nr({primaryType:e,types:r}));return w(t)}function Nr({primaryType:e,types:r}){let t="",o=nr({primaryType:e,types:r});o.delete(e);let n=[e,...Array.from(o).sort()];for(let i of n)t+=`${i}(${r[i].map(({name:a,type:c})=>`${c} ${a}`).join(",")})`;return t}function nr({primaryType:e,types:r},t=new Set){let n=e.match(/^\w*/u)?.[0];if(t.has(n)||r[n]===void 0)return t;t.add(n);for(let i of r[n])nr({primaryType:i.type,types:r},t);return t}function ir({types:e,name:r,type:t,value:o}){if(e[t]!==void 0)return[{type:"bytes32"},w(or({data:o,primaryType:t,types:e}))];if(t==="bytes")return o=`0x${(o.length%2?"0":"")+o.slice(2)}`,[{type:"bytes32"},w(o)];if(t==="string")return[{type:"bytes32"},w(A(o))];if(t.lastIndexOf("]")===t.length-1){let n=t.slice(0,t.lastIndexOf("[")),i=o.map(a=>ir({name:r,type:n,types:e,value:a}));return[{type:"bytes32"},w(Te(i.map(([a])=>a),i.map(([,a])=>a)))]}return[{type:t},o]}var sr=`Ethereum Signed Message:
`;function ar(e){let r=typeof e=="string"?k(e):typeof e.raw=="string"?e.raw:S(e.raw),t=k(`${sr}${z(r)}`);return j([t,r])}function Hr(e,r){return w(ar(e),r)}var Mr=3;function At(e,{abi:r,address:t,args:o,docsPath:n,functionName:i,sender:a}){let{code:c,data:m,message:y,shortMessage:p}=e instanceof Ae?e:e instanceof g?e.walk(s=>"data"in s)||e.walk():{},f=e instanceof ke?new Re({functionName:i}):[Mr,H.code].includes(c)&&(m||y||p)?new Ce({abi:r,data:typeof m=="object"?m.data:m,functionName:i,message:p??y}):e;return new Se(f,{abi:r,args:o,contractAddress:t,docsPath:n,functionName:i,sender:a})}function cr(e){let r=w(`0x${e.substring(4)}`).substring(26);return Ie(`0x${r}`)}function pr(t){return h(this,arguments,function*({hash:e,signature:r}){let o=O(e)?e:A(e),{secp256k1:n}=yield import("./chunk-AWZHJ2TR.js");return`0x${(()=>{if(typeof r=="object"&&"r"in r&&"s"in r){let{r:p,s:f,v:s,yParity:d}=r,b=Number(d??s),E=mr(b);return new n.Signature(V(p),V(f)).addRecoveryBit(E)}let c=O(r)?r:A(r),m=F(`0x${c.slice(130)}`),y=mr(m);return n.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(y)})().recoverPublicKey(o.substring(2)).toHex(!1)}`})}function mr(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}function qt(t){return h(this,arguments,function*({hash:e,signature:r}){return cr(yield pr({hash:e,signature:r}))})}function Jt(e,r="hex"){let t=fr(e),o=K(new Uint8Array(t.length));return t.encode(o),r==="hex"?S(o.bytes):o.bytes}function fr(e){return Array.isArray(e)?Gr(e.map(r=>fr(r))):kr(e)}function Gr(e){let r=e.reduce((n,i)=>n+i.length,0),t=ur(r);return{length:r<=55?1+r:1+t+r,encode(n){r<=55?n.pushByte(192+r):(n.pushByte(247+t),t===1?n.pushUint8(r):t===2?n.pushUint16(r):t===3?n.pushUint24(r):n.pushUint32(r));for(let{encode:i}of e)i(n)}}}function kr(e){let r=typeof e=="string"?R(e):e,t=ur(r.length);return{length:r.length===1&&r[0]<128?1:r.length<=55?1+r.length:1+t+r.length,encode(n){r.length===1&&r[0]<128?n.pushBytes(r):r.length<=55?(n.pushByte(128+r.length),n.pushBytes(r)):(n.pushByte(183+t),t===1?n.pushUint8(r.length):t===2?n.pushUint16(r.length):t===3?n.pushUint24(r.length):n.pushUint32(r.length),n.pushBytes(r))}}}function ur(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new g("Length is too large.")}var dr=class extends g{constructor(r,{account:t,docsPath:o,chain:n,data:i,gas:a,gasPrice:c,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:p,to:f,value:s}){let d=Je({from:t?.address,to:f,value:typeof s<"u"&&`${ve(s)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof c<"u"&&`${$(c)} gwei`,maxFeePerGas:typeof m<"u"&&`${$(m)} gwei`,maxPriorityFeePerGas:typeof y<"u"&&`${$(y)} gwei`,nonce:p});super(r.shortMessage,{cause:r,docsPath:o,metaMessages:[...r.metaMessages?[...r.metaMessages," "]:[],"Estimate Gas Arguments:",d].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=r}};var lr=class extends g{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},xr=class extends g{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},yr=class extends g{constructor({maxPriorityFeePerGas:r}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${$(r)} gwei).`,{name:"MaxFeePerGasTooLowError"})}};var hr=class extends g{constructor({blockHash:r,blockNumber:t}){let o="Block";r&&(o=`Block at hash "${r}"`),t&&(o=`Block at number "${t}"`),super(`${o} could not be found.`,{name:"BlockNotFoundError"})}};var Fe={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function gr(e){let r=P(u({},e),{blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?F(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?F(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Fe[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0});return e.authorizationList&&(r.authorizationList=$r(e.authorizationList)),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}function $r(e){return e.map(r=>({contractAddress:r.address,chainId:Number(r.chainId),nonce:Number(r.nonce),r:r.r,s:r.s,yParity:Number(r.yParity)}))}function fo(e){let r=(e.transactions??[]).map(t=>typeof t=="string"?t:gr(t));return P(u({},e),{baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null})}function br(e){let{kzg:r}=e,t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),o=typeof e.blobs[0]=="string"?e.blobs.map(i=>R(i)):e.blobs,n=[];for(let i of o)n.push(Uint8Array.from(r.blobToKzgCommitment(i)));return t==="bytes"?n:n.map(i=>S(i))}function Er(e){let{kzg:r}=e,t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),o=typeof e.blobs[0]=="string"?e.blobs.map(a=>R(a)):e.blobs,n=typeof e.commitments[0]=="string"?e.commitments.map(a=>R(a)):e.commitments,i=[];for(let a=0;a<o.length;a++){let c=o[a],m=n[a];i.push(Uint8Array.from(r.computeBlobKzgProof(c,m)))}return t==="bytes"?i:i.map(a=>S(a))}function Ir(e,r){let t=r||"hex",o=Qe(O(e,{strict:!1})?Ge(e):e);return t==="bytes"?o:A(o)}function Tr(e){let{commitment:r,version:t=1}=e,o=e.to??(typeof r=="string"?"hex":"bytes"),n=Ir(r,"bytes");return n.set([t],0),o==="bytes"?n:S(n)}function Ao(e){let{commitments:r,version:t}=e,o=e.to??(typeof r[0]=="string"?"hex":"bytes"),n=[];for(let i of r)n.push(Tr({commitment:i,to:o,version:t}));return n}var fe=class extends g{constructor({maxSize:r,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${r} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}},ue=class extends g{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}};function wr(e){let r=e.to??(typeof e.data=="string"?"hex":"bytes"),t=typeof e.data=="string"?R(e.data):e.data,o=z(t);if(!o)throw new ue;if(o>761855)throw new fe({maxSize:761855,size:o});let n=[],i=!0,a=0;for(;i;){let c=K(new Uint8Array(131072)),m=0;for(;m<4096;){let y=t.slice(a,a+31);if(c.pushByte(0),c.pushBytes(y),y.length<31){c.pushByte(128),i=!1;break}m++,a+=31}n.push(c)}return r==="bytes"?n.map(c=>c.bytes):n.map(c=>S(c.bytes))}function jo(e){let{data:r,kzg:t,to:o}=e,n=e.blobs??wr({data:r,to:o}),i=e.commitments??br({blobs:n,kzg:t,to:o}),a=e.proofs??Er({blobs:n,commitments:i,kzg:t,to:o}),c=[];for(let m=0;m<n.length;m++)c.push({blob:n[m],commitment:i[m],proof:a[m]});return c}function Jo(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Ze({transaction:e})}function vr(e,{args:r,eventName:t}={}){return u(P(u({},e),{blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null}),t?{args:r,eventName:t}:{})}function de(e){return h(this,null,function*(){return new Promise(r=>setTimeout(r,e))})}function tn({chain:e,currentChainId:r}){if(!e)throw new We;if(r!==e.id)throw new Ke({chain:e,currentChainId:r})}var le=256,xe;function ye(e=11){if(!xe||le+e>256*2){xe="",le=0;for(let r=0;r<256;r++)xe+=(256+Math.random()*256|0).toString(16).substring(1)}return xe.substring(le,le+++e)}function qr(e){let{batch:r,cacheTime:t=e.pollingInterval??4e3,ccipRead:o,key:n="base",name:i="Base Client",pollingInterval:a=4e3,type:c="base"}=e,m=e.chain,y=e.account?je(e.account):void 0,{config:p,request:f,value:s}=e.transport({chain:m,pollingInterval:a}),d=u(u({},p),s),b={account:y,batch:r,cacheTime:t,ccipRead:o,chain:m,key:n,name:i,pollingInterval:a,request:f,transport:d,type:c,uid:ye()};function E(l){return x=>{let I=x(l);for(let v in b)delete I[v];let C=u(u({},l),I);return Object.assign(C,{extend:E(C)})}}return Object.assign(b,{extend:E(b)})}var he=new qe(8192);function Br(e,{enabled:r=!0,id:t}){if(!r||!t)return e();if(he.get(t))return he.get(t);let o=e().finally(()=>he.delete(t));return he.set(t,o),o}function De(e,{delay:r=100,retryCount:t=2,shouldRetry:o=()=>!0}={}){return new Promise((n,i)=>{let a=(...m)=>h(this,[...m],function*({count:c=0}={}){let y=f=>h(this,[f],function*({error:p}){let s=typeof r=="function"?r({count:c,error:p}):r;s&&(yield de(s)),a({count:c+1})});try{let p=yield e();n(p)}catch(p){if(c<t&&(yield o({count:c,error:p})))return y({error:p});i(p)}});a()})}function Pr(e,r={}){return(n,...i)=>h(this,[n,...i],function*(t,o={}){let{dedupe:a=!1,retryDelay:c=150,retryCount:m=3,uid:y}=u(u({},r),o),p=a?w(k(`${y}.${D(t)}`)):void 0;return Br(()=>De(()=>h(this,null,function*(){try{return yield e(t)}catch(f){let s=f;switch(s.code){case W.code:throw new W(s);case J.code:throw new J(s);case Z.code:throw new Z(s,{method:t.method});case X.code:throw new X(s);case H.code:throw new H(s);case Q.code:throw new Q(s);case Y.code:throw new Y(s);case ee.code:throw new ee(s);case L.code:throw new L(s);case re.code:throw new re(s,{method:t.method});case _.code:throw new _(s);case te.code:throw new te(s);case M.code:throw new M(s);case oe.code:throw new oe(s);case ne.code:throw new ne(s);case ie.code:throw new ie(s);case se.code:throw new se(s);case ae.code:throw new ae(s);case 5e3:throw new M(s);default:throw f instanceof g?f:new Pe(s)}}}),{delay:({count:f,error:s})=>{if(s&&s instanceof N){let d=s?.headers?.get("Retry-After");if(d?.match(/\d/))return Number.parseInt(d)*1e3}return~~(1<<f)*c},retryCount:m,shouldRetry:({error:f})=>Or(f)}),{enabled:a,id:p})})}function Or(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===_.code||e.code===H.code:e instanceof N&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function q({key:e,name:r,request:t,retryCount:o=3,retryDelay:n=150,timeout:i,type:a},c){let m=ye();return{config:{key:e,name:r,request:t,retryCount:o,retryDelay:n,timeout:i,type:a},request:Pr(t,{retryCount:o,retryDelay:n,uid:m}),value:c}}function _r(e,r={}){let{key:t="custom",name:o="Custom Provider",retryDelay:n}=r;return({retryCount:i})=>q({key:t,name:o,request:e.request.bind(e),retryCount:r.retryCount??i,retryDelay:n,type:"custom"})}function Vr(e,r={}){let{key:t="fallback",name:o="Fallback",rank:n=!1,retryCount:i,retryDelay:a}=r;return f=>{var s=f,{chain:c,pollingInterval:m=4e3,timeout:y}=s,p=Me(s,["chain","pollingInterval","timeout"]);let d=e,b=()=>{},E=q({key:t,name:o,request(C){return h(this,arguments,function*({method:x,params:I}){let v=(G=0)=>h(this,null,function*(){let T=d[G](P(u({},p),{chain:c,retryCount:0,timeout:y}));try{let B=yield T.request({method:x,params:I});return b({method:x,params:I,response:B,transport:T,status:"success"}),B}catch(B){if(b({error:B,method:x,params:I,transport:T,status:"error"}),jr(B)||G===d.length-1)throw B;return v(G+1)}});return v()})},retryCount:i,retryDelay:a,type:"fallback"},{onResponse:x=>b=x,transports:d.map(x=>x({chain:c,retryCount:0}))});if(n){let x=typeof n=="object"?n:{};Kr({chain:c,interval:x.interval??m,onTransports:I=>d=I,ping:x.ping,sampleCount:x.sampleCount,timeout:x.timeout,transports:d,weights:x.weights})}return E}}function jr(e){return"code"in e&&typeof e.code=="number"&&(e.code===L.code||e.code===M.code||e.code===5e3)}function Kr({chain:e,interval:r=4e3,onTransports:t,ping:o,sampleCount:n=10,timeout:i=1e3,transports:a,weights:c={}}){let{stability:m=.7,latency:y=.3}=c,p=[],f=()=>h(this,null,function*(){let s=yield Promise.all(a.map(E=>h(this,null,function*(){let l=E({chain:e,retryCount:0,timeout:i}),x=Date.now(),I,C;try{yield o?o({transport:l}):l.request({method:"net_listening"}),C=1}catch{C=0}finally{I=Date.now()}return{latency:I-x,success:C}})));p.push(s),p.length>n&&p.shift();let d=Math.max(...p.map(E=>Math.max(...E.map(({latency:l})=>l)))),b=a.map((E,l)=>{let x=p.map(T=>T[l].latency),C=1-x.reduce((T,B)=>T+B,0)/x.length/d,v=p.map(T=>T[l].success),G=v.reduce((T,B)=>T+B,0)/v.length;return G===0?[0,l]:[y*C+m*G,l]}).sort((E,l)=>l[0]-E[0]);t(b.map(([,E])=>a[E])),yield de(r),f()});f()}var ge=class extends g{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}};function ze(e,{errorInstance:r=new Error("timed out"),timeout:t,signal:o}){return new Promise((n,i)=>{h(this,null,function*(){let a;try{let c=new AbortController;t>0&&(a=setTimeout(()=>{o?c.abort():i(r)},t)),n(yield e({signal:c?.signal||null}))}catch(c){c?.name==="AbortError"&&i(r),i(c)}finally{clearTimeout(a)}})})}function Wr(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var Ne=Wr();function Sr(e,r={}){return{request(o){return h(this,null,function*(){let{body:n,onRequest:i=r.onRequest,onResponse:a=r.onResponse,timeout:c=r.timeout??1e4}=o,m=u(u({},r.fetchOptions??{}),o.fetchOptions??{}),{headers:y,method:p,signal:f}=m;try{let s=yield ze(E=>h(this,[E],function*({signal:b}){let l=P(u({},m),{body:Array.isArray(n)?D(n.map(v=>u({jsonrpc:"2.0",id:v.id??Ne.take()},v))):D(u({jsonrpc:"2.0",id:n.id??Ne.take()},n)),headers:u({"Content-Type":"application/json"},y),method:p||"POST",signal:f||(c>0?b:null)}),x=new Request(e,l),I=(yield i?.(x,l))??P(u({},l),{url:e});return yield fetch(I.url??e,I)}),{errorInstance:new Be({body:n,url:e}),timeout:c,signal:!0});a&&(yield a(s));let d;if(s.headers.get("Content-Type")?.startsWith("application/json"))d=yield s.json();else{d=yield s.text();try{d=JSON.parse(d||"{}")}catch(b){if(s.ok)throw b;d={error:d}}}if(!s.ok)throw new N({body:n,details:D(d.error)||s.statusText,headers:s.headers,status:s.status,url:e});return d}catch(s){throw s instanceof N||s instanceof Be?s:new N({body:n,cause:s,url:e})}})}}}function Jr(e,r={}){let{batch:t,fetchOptions:o,key:n="http",name:i="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:m}=r;return({chain:y,retryCount:p,timeout:f})=>{let{batchSize:s=1e3,wait:d=0}=typeof t=="object"?t:{},b=r.retryCount??p,E=f??r.timeout??1e4,l=e||y?.rpcUrls.default.http[0];if(!l)throw new ge;let x=Sr(l,{fetchOptions:o,onRequest:a,onResponse:c,timeout:E});return q({key:n,name:i,request(G){return h(this,arguments,function*({method:C,params:v}){let T={method:C,params:v},{schedule:B}=Ye({id:l,wait:d,shouldSplitBatch(U){return U.length>s},fn:U=>x.request({body:U}),sort:(U,Ur)=>U.id-Ur.id}),Rr=U=>h(this,null,function*(){return t?B(U):[yield x.request({body:U})]}),[{error:He,result:Ar}]=yield Rr(T);if(He)throw new Xe({body:T,error:He,url:l});return Ar})},retryCount:b,retryDelay:m,timeout:E,type:"http"},{fetchOptions:o,url:l})}}function Yn(e){return u({formatters:void 0,fees:void 0,serializers:void 0},e)}var Zr={"0x0":"reverted","0x1":"success"};function ii(e){let r=P(u({},e),{blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(t=>vr(t)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?F(e.transactionIndex):null,status:e.status?Zr[e.status]:null,type:e.type?Fe[e.type]||e.type:null});return e.blobGasPrice&&(r.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(r.blobGasUsed=BigInt(e.blobGasUsed)),r}var be=class extends g{constructor({value:r}){super(`Number \`${r}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}};function Cr(e,r){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new be({value:e});let[t,o="0"]=e.split("."),n=t.startsWith("-");if(n&&(t=t.slice(1)),o=o.replace(/(0+)$/,""),r===0)Math.round(+`.${o}`)===1&&(t=`${BigInt(t)+1n}`),o="";else if(o.length>r){let[i,a,c]=[o.slice(0,r-1),o.slice(r-1,r),o.slice(r)],m=Math.round(+`${a}.${c}`);m>9?o=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):o=`${i}${m}`,o.length>r&&(o=o.slice(1),t=`${BigInt(t)+1n}`),o=o.slice(0,r)}else o=o.padEnd(r,"0");return BigInt(`${n?"-":""}${t}${o}`)}function Xr(e,r="wei"){return Cr(e,we[r])}export{qt as a,Jt as b,tn as c,lr as d,xr as e,yr as f,hr as g,gr as h,fo as i,dr as j,br as k,Er as l,Ao as m,jo as n,Jo as o,At as p,ii as q,de as r,De as s,Yn as t,ze as u,Dr as v,Hr as w,Xr as x,qr as y,_r as z,Vr as A,Jr as B};
